# Rétrospective Epic 5 — Focus Options (Mise en avant des options sans 3D)

**Date :** 2026-02-13  
**Epic :** 5 — Focus Options  
**Stories :** 1/1 done (5.1 Mise en avant des options sur atelier et récap)  
**Type :** Rétrospective partielle — Epic 5 complète (1 seule story prévue)  
**Facilitateur :** Bob (Scrum Master)

---

## 1. Contexte et périmètre

- **Objectif Epic 5 :** Mettre en avant les options choisies (mods, pack, coque, écran, vitre) plutôt que le rendu 3D, tant que le modèle 3D n'est pas prêt en production.
- **Contexte produit :** Le modèle 3D n'étant pas disponible, l'atelier et le récapitulatif doivent privilégier visuellement la configuration (texte + aperçus) comme élément principal.
- **Rétrospective précédente :** Epic 4 (epic-4-retro-2026-02-13.md) — action items README procédure tests, CI.
- **Épic suivante :** Aucune epic 6 définie dans le planning actuel.

---

## 2. Analyse de la Story 5.1

### 2.1 Livrables

| Livrable | Détail |
|----------|--------|
| Vue par défaut | RECAP_VIEW confirmée comme vue par défaut (`show3D = false` déjà présent) |
| Badge 3D secondaire | "APERÇU_3D" dans App.vue avec `data-testid="3d-preview-badge"` |
| Hiérarchie visuelle | SelectionRecap : pack badge (border-2, shadow-neo), cartes renforcées, mods expert (gap-3, padding) |
| SignatureShowcase | Récapitulatif visuel ajouté (pack, cartes, mods) — desktop et mobile |
| Tests E2E | `focus-options.spec.js` — 4 tests (Pack + Atelier Libre) couvrant AC #1–#3 |

### 2.2 Points forts

- **Code review exhaustive :** 8 issues identifiées (2 High, 4 Medium, 2 Low), toutes corrigées avant passage en done.
- **Couverture Atelier Libre :** Test chemin "Atelier Libre" ajouté suite à la code review (Issue #1).
- **Robustesse des tests :** Utilisation de `aria-pressed` et `data-testid` au lieu des classes Tailwind (Issue #6).
- **Mobile :** Toggle 3D/Recap décalé (`top-16`) pour éviter conflit avec bouton RETOUR.
- **Design system :** Airy Cyberpunk (gap-8, p-8, font-retro, contraste WCAG AA) respecté.

### 2.3 Revue et corrections appliquées

| Issue | Correction |
|-------|------------|
| #1 — Pas de test Atelier Libre | Test chemin Atelier Libre ajouté |
| #2 — Nommage 4.x vs 5.1 | Tests renommés 5.1 AC#1/2/3 |
| #3 — Conflit mobile RETOUR/toggle | Toggle top-16 sur mobile, data-testid |
| #4 — configurator.js non documenté | Story mise à jour (dépendance bouton-retour) |
| #5 — Contraste badge APERÇU_3D | text-white/90 (WCAG AA) |
| #6 — Tests fragiles (classes) | aria-pressed + data-testid |
| #7 — JSDoc absente | JSDoc retourPortail |
| #8 — État vide opacity | opacity-70, data-testid="recap-empty-state" |

---

## 3. Suivi de la rétrospective Epic 4

| # | Action item (Epic 4) | Statut | Commentaire |
|---|----------------------|--------|-------------|
| 1 | Documenter README procédure E2E + tests intégration backend | ⏳ | Toujours pertinent |
| 2 | Intégrer CI Playwright + cargo test quote_submit | ⏳ | Non fait |

**Bilan :** Les mêmes recommandations s'appliquent. Epic 5 ajoute `focus-options.spec.js` aux specs à intégrer en CI.

---

## 4. Ce qui a bien fonctionné

- **Story unique et focalisée :** Epic 5 avec une seule story (5.1) a permis un livrable clair et rapide.
- **Convergence backlog → sprint :** L'idée du backlog ("Mettre en avant les options") a été transformée en story exécutable via [CS] Context Story.
- **Code review pré-QA :** Tous les correctifs appliqués avant passage en done — zéro correctif pendant la QA.
- **Réutilisation :** SelectionRecap, SignatureShowcase, App.vue — évolution incrémentale sans rupture.
- **Tests E2E couvrants :** 4 tests couvrant Pack et Atelier Libre, AC #1 à #3.

---

## 5. Défis et axes d'amélioration

- **Dépendance croisée :** Story 5.1 partage `configurator.js` avec la story bouton-retour. Documentation mise à jour mais à garder en tête pour les prochaines stories.
- **Mobile :** Le conflit RETOUR / toggle a été atténué (top-16) mais pourrait nécessiter un redesign si la cible mobile devient prioritaire.
- **CI :** focus-options.spec.js à ajouter à la liste des specs E2E à intégrer en CI (même recommandation qu'Epic 4).

---

## 6. Action items et prochaines étapes

| # | Action | Responsable | Critère de succès |
|---|--------|-------------|-------------------|
| 1 | Documenter en README la procédure complète (E2E + tests intégration backend) | Dev / QA | Une section README permet de lancer tous les tests |
| 2 | Intégrer focus-options.spec.js en CI (avec signature-showcase, deck-manager, etc.) | Dev / QA | CI vert avec ces jobs ou décision explicite |

---

## 7. État de préparation « suite »

- **Epic 6 :** Non définie. Le périmètre planifié (Epics 1–5) est complété.
- **Backlog restant :** Aucun item prioritaire identifié. Le document `backlog.md` peut être mis à jour pour refléter l'accomplissement d'Epic 5 (Focus Options).

---

## 8. Clôture

- **Epic 5** est considérée comme **livrée** : 1 story done (5.1), revue, correctifs appliqués, tests E2E en place.
- **Points clés :** Story unique focalisée, code review rigoureuse avec corrections complètes, réutilisation des briques Epic 1–4.
- **Prochaine étape :** Exécuter les action items (README, CI) en parallèle d'éventuelles prochaines features. Mettre à jour `retro-taches-accomplies-2026-02-13.md` pour inclure Epic 5.1.

---

*Généré par : Bob (Scrum Master) — Workflow : Epic Retrospective [ER]*  
*Document : epic-5-retro-2026-02-13.md*
